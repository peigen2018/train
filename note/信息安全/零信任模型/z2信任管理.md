### 信任管理



#### 信任委托



由于用户量急剧增多，信任管理工作量会非常大，系统管理员数量不能无限制增加，并且系统管理员不能总是进行授权或者授予信任。

**如下图**

管理员信任某个特定的系统，这个系统又可以信任另一个系统，从而形成信任链

![image-20210125091743465](assets/z2信任管理/image-20210125091743465.png)



信任委托非常重要。借助信任委托，人们可以构建自动化系统，**目的**是为了无须认为干预的状况下，以安全可信的方式管理大规模增长的零信任网络。



信任链（Trust Chain）

管理员就必须将责任委托给供应系统，供应系统授予新主机授予信任的能力，供应系统已经确认过该服务是由它创建，供应系统还可以证明系统管理员权力授予。

信任锚（Trust Anchor）

系统管理员被称为信任锚。



#### 威胁模型

##### 威胁模型主要描述描述：

1. 攻击者能力

2. 攻击者资源

3. 攻击者目标



明确攻击者范围，按照攻击者的能力高低进行排序，构建威胁模型时也要从初级的攻击者开始考虑，这一点非常重要。



##### 常用威胁模型

• **STRIDE**。• **DREAD**。• **PASTA**。• **Trike**。• **VAST**。





##### 攻击者按照能力划分



- 碰运气攻击者

被称为脚本小子，没有明确目标，用众所周知的漏洞攻击广撒网，碰运气

- 定向攻击者

针对特定目标发起针对攻击，通过鱼叉邮件，社交工程等手段。俗称APT攻击

- 内部人员

有合法凭据的系统用户，外包人员非特权企业员工等

- 可信内部人员

可信度比较高的系统管理员





##### 零信任的威胁模型

**RFC 3552**

RFC 3552描述了互联网的威胁模型。一般情况下，零信任网络遵循互联网威胁模型来描述安全态势，规划缓解威胁的措施。



**关于端点设备**

零信任网络需要控制网络中的端点设备，所以它对互联网威胁模型进行了扩展，充分考虑了端点设备被攻陷的情形。面对端点设备可能遭受的攻击，通常的应对方式是首先对端点操作系统进行安全加固，然后采用端点系统安全扫描、系统活动行为分析等方式来进行攻击检测。



#### 强认证

零信任网络中不会对ip进行信任，因为该模型中认为攻击者能使用任意ip地址进行通讯。还能将自己置于两台计算机之间发起中间人攻击，每个访问请求都需要经过强身份认证。



用较广泛的身份认证机制是安全工程师们都非常熟悉的**X.509标准**



![image-20210129135237952](assets/z2信任管理/image-20210129135237952.png)



##### 问题

但该机制仍然依赖于一个秘密，而这个秘密可能会被窃取。通过网络**搭线窃听这种方式虽然行不通了，但是攻击者仍然可以使用恶意软件感染或物理接触的方式**窃取这个秘密



##### 存储方式上防御

因为上述原因虽然身份凭据的合法性可以得到验证，但是其机密性无法得到保证。实践中最好使用存储在不同位置的多个秘密，秘密的组合授予访问权限。攻击者必须窃取多个秘密才能完成攻击，这增加了攻击的难度。



##### 有效时间上防御

因此，所有身份认证凭据都应当有时间限制。为身份认证凭据设定有效期限，不仅能够最大限度地缩减凭据泄露或密钥被盗的影响范围，还可以给管理员更新密钥和重建信任创造更多的机会，争取更多的时间。管理员更改或更新密钥/口令的行为被称为**凭据轮换（Credential Rotation）**



##### 代价

人们应当尽可能避免使用难以轮换或者轮换成本很高的身份认证凭据，如硬件令牌/口令等，特别是新建的系统，应当在系统设计早期就考虑到这个因素。身份认证凭据的轮换频率通常与轮换所需的成本成反比



轮换代价高昂的凭据示例

- 需要外部机构签发的数字证书。
- 人工配置的服务账户。
- 需要系统重启才能重置的数据库口令。
- 一旦更改就会导致所有已保存的散列值失效的密钥种子





#### 信任认证



